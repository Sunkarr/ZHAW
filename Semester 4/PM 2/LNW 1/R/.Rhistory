# Ersten Buchstaben groß schreiben
standort = str_to_title(standort)
) %>%
group_by(standort, month) %>%
summarise(
mean_nox = mean(nox, na.rm = TRUE),
sd_nox = sd(nox, na.rm = TRUE)
) %>%
ggplot(aes(x = month, y = mean_nox, group = standort)) +
geom_line(aes(color = "Mittelwert"), size = 0.5) +
geom_ribbon(aes(ymin = mean_nox - sd_nox,
ymax = mean_nox + sd_nox,
fill = "Standardabweichung"),
alpha = 0.2) +
labs(
x = "Monat",
y = "Stickoxidkonzentration (NO + NO2) [µg/m³]",
color = "Linie:",
fill = "Band:"
) +
scale_color_manual(values = c("Mittelwert" = "blue")) +
scale_fill_manual(values = c("Standardabweichung" = "lightblue")) +
facet_wrap(~standort, ncol = 2) +
theme_minimal() +
theme(
legend.position = "bottom",
legend.box = "vertical",
legend.margin = margin(t = 10)
)
data_long %>%
mutate(
year = year(datum),
month = month(datum, label = TRUE),
# Ersten Buchstaben groß schreiben
standort = str_to_title(standort)
) %>%
group_by(standort, month) %>%
summarise(
mean_nox = mean(nox, na.rm = TRUE),
sd_nox = sd(nox, na.rm = TRUE)
) %>%
ggplot(aes(x = month, y = mean_nox, group = standort)) +
geom_line(aes(color = "Mittelwert"), size = 0.5) +
geom_ribbon(aes(ymin = mean_nox - sd_nox,
ymax = mean_nox + sd_nox,
fill = "Standardabweichung"),
alpha = 0.2) +
labs(
x = "Monat",
y = "Stickoxidkonzentration (NO + NO2) [µg/m³]",
color = "Linie:",
fill = "Band:"
) +
scale_color_manual(values = c("Mittelwert" = "blue")) +
scale_fill_manual(values = c("Standardabweichung" = "lightblue")) +
facet_wrap(~standort, ncol = 2) +
theme_minimal() +
theme(
legend.position = "bottom",
legend.box = "vertical",
legend.margin = margin(t = 10)
)
data_long %>%
mutate(
year = year(datum),
month = month(datum, label = TRUE),
# Ersten Buchstaben groß schreiben
standort = str_to_title(standort)
) %>%
group_by(standort, month) %>%
summarise(
mean_nox = mean(nox, na.rm = TRUE),
sd_nox = sd(nox, na.rm = TRUE)
) %>%
ggplot(aes(x = month, y = mean_nox, group = standort)) +
geom_line(aes(color = "Mittelwert"), size = 0.5) +
geom_ribbon(aes(ymin = mean_nox - sd_nox,
ymax = mean_nox + sd_nox,
fill = "Standardabweichung"),
alpha = 0.2) +
labs(
x = "Monat",
y = "Stickoxidkonzentration (NO + NO2) [µg/m³]",
color = "Linie:",
fill = "Band:"
) +
scale_color_manual(values = c("Mittelwert" = "blue")) +
scale_fill_manual(values = c("Standardabweichung" = "lightblue")) +
facet_wrap(~standort, ncol = 2) +
theme_minimal() +
theme(
legend.position = "bottom",
legend.box = "vertical",
legend.margin = margin(t = 10)
)
data_long %>%
mutate(
year = year(datum),
month = month(datum, label = TRUE),
# Ersten Buchstaben groß schreiben
standort = str_to_title(standort)
) %>%
group_by(standort, month) %>%
summarise(
mean_nox = mean(nox, na.rm = TRUE),
sd_nox = sd(nox, na.rm = TRUE)
) %>%
ggplot(aes(x = month, y = mean_nox, group = standort)) +
geom_line(aes(color = "Mittelwert"), size = 0.5) +
geom_ribbon(aes(ymin = mean_nox - sd_nox,
ymax = mean_nox + sd_nox,
fill = "Standardabweichung"),
alpha = 0.2) +
labs(
x = "Monat",
y = "Stickoxidkonzentration (NO + NO2) [µg/m³]",
color = "Linie:",
fill = "Band:"
) +
scale_color_manual(values = c("Mittelwert" = "blue")) +
scale_fill_manual(values = c("Standardabweichung" = "lightblue")) +
facet_wrap(~standort, ncol = 2) +
theme_minimal() +
theme(
legend.position = "bottom",
legend.box = "vertical",
legend.margin = margin(t = 10)
)
data_long %>%
mutate(
year = year(datum),
month = month(datum, label = TRUE),
# Ersten Buchstaben groß schreiben
standort = str_to_title(standort)
) %>%
group_by(standort, month) %>%
summarise(
mean_nox = mean(nox, na.rm = TRUE),
sd_nox = sd(nox, na.rm = TRUE)
) %>%
ggplot(aes(x = month, y = mean_nox, group = standort)) +
geom_line(aes(color = "Mittelwert"), size = 0.5) +
geom_ribbon(aes(ymin = mean_nox - sd_nox,
ymax = mean_nox + sd_nox,
fill = "Standardabweichung"),
alpha = 0.2) +
labs(
x = "Monat",
y = "Stickoxidkonzentration (NO + NO2) [µg/m³]",
color = "Linie:",
fill = "Band:"
) +
scale_color_manual(values = c("Mittelwert" = "blue")) +
scale_fill_manual(values = c("Standardabweichung" = "lightblue")) +
facet_wrap(~standort, ncol = 2) +
theme_minimal() +
theme(
legend.position = "bottom",
legend.box = "vertical",
legend.margin = margin(t = 10)
)
library(ggplot2)
library(dplyr)
library(lubridate)
library(stringr)
# Daten vorbereiten
data_long %>%
mutate(
year = year(datum),
month = month(datum, label = TRUE, abbr = TRUE),
standort = str_to_title(standort)  # Ersten Buchstaben groß schreiben
) %>%
filter(year >= 2012 & year <= 2020) %>%  # Zeitraum 2012-2020 filtern
ggplot(aes(x = month, y = nox, fill = standort)) +
# Boxplots für jeden Monat und Standort
geom_boxplot(outlier.size = 0.5, alpha = 0.7) +
# Achsenbeschriftungen
labs(
x = "Monat",
y = "Stickoxidkonzentration (NO + NO2) [µg/m³]",
fill = "Standort"
) +
# Facetten für jeden Standort
facet_wrap(~standort, ncol = 2) +
# Minimalistisches Theme
theme_minimal() +
theme(
legend.position = "bottom",
legend.box = "horizontal",
legend.margin = margin(t = 10)
)
library(ggplot2)
library(dplyr)
library(lubridate)
library(stringr)
data_long %>%
mutate(
datum = as.Date(datum),
standort = str_to_title(standort)
) %>%
filter(datum >= as.Date("2014-01-01") & datum <= as.Date("2020-12-31")) %>%
ggplot(aes(x = datum, y = nox, fill = standort)) +
# Boxplots für jeden Monat und Standort
geom_boxplot(
aes(group = format(datum, "%Y-%m")),
outlier.size = 0.5,
alpha = 0.7
) +
# Achsenbeschriftungen
labs(
x = "Jahr",
y = "Stickoxidkonzentration (NO + NO2) [µg/m³]",
fill = "Standort"
) +
# Zeitachse formatieren
scale_x_date(
date_breaks = "6 months",
date_labels = "%Y-%m",
expand = expansion(mult = 0.02)
) +
# Facetten für jeden Standort
facet_wrap(~standort, ncol = 2) +
# Minimalistisches Theme
theme_minimal() +
theme(
legend.position = "bottom",
legend.box = "horizontal",
legend.margin = margin(t = 10),
axis.text.x = element_text(angle = 45, hjust = 1)  # Datumsbezeichnungen schräg
)
data_long %>%
mutate(
datum = as.Date(datum),
standort = str_to_title(standort)
) %>%
filter(datum >= as.Date("2014-01-01") & datum <= as.Date("2020-12-31")) %>%
ggplot(aes(x = datum, y = nox, fill = standort)) +
# Boxplots für jeden Monat und Standort
geom_boxplot(
aes(group = format(datum, "%Y-%m")),
outlier.size = 0.5,
alpha = 0.7
) +
# Achsenbeschriftungen
labs(
x = "Jahr",
y = "Stickoxidkonzentration (NO + NO2) [µg/m³]",
fill = "Standort"
) +
# Zeitachse formatieren
scale_x_date(
date_breaks = "6 months",
date_labels = "%Y-%m",
expand = expansion(mult = 0.02)
) +
# Facetten für jeden Standort
facet_wrap(~standort, ncol = 2) +
# Minimalistisches Theme
theme_minimal() +
theme(
legend.position = "bottom",
legend.box = "horizontal",
legend.margin = margin(t = 10),
axis.text.x = element_text(angle = 45, hjust = 1)  # Datumsbezeichnungen schräg
)
data_long %>%
mutate(
datum = as.Date(datum),
standort = str_to_title(standort)
) %>%
filter(datum >= as.Date("2014-01-01") & datum <= as.Date("2020-12-31")) %>%
ggplot(aes(x = datum, y = nox, fill = standort)) +
# Boxplots für jeden Monat und Standort
geom_boxplot(
aes(group = format(datum, "%Y-%m")),
outlier.size = 0.5,
alpha = 0.7
) +
# Achsenbeschriftungen
labs(
x = "Jahr",
y = "Stickoxidkonzentration (NO + NO2) [µg/m³]",
fill = "Standort"
) +
# Zeitachse formatieren
scale_x_date(
date_breaks = "6 months",
date_labels = "%Y-%m",
expand = expansion(mult = 0.02)
) +
# Facetten für jeden Standort untereinander
facet_wrap(~standort, ncol = 1) +  # Hier auf ncol = 1 geändert
# Minimalistisches Theme
theme_minimal() +
theme(
legend.position = "bottom",
legend.box = "horizontal",
legend.margin = margin(t = 10),
axis.text.x = element_text(angle = 45, hjust = 1)  # Datumsbezeichnungen schräg
)
data_long %>%
mutate(
datum = as.Date(datum),
standort = str_to_title(standort)
) %>%
filter(datum >= as.Date("2014-01-01") & datum <= as.Date("2020-12-31")) %>%
ggplot(aes(x = datum, y = nox, fill = standort)) +
# Boxplots für jeden Monat und Standort
geom_boxplot(
aes(group = format(datum, "%Y-%m")),
outlier.size = 0.5,
alpha = 0.7
) +
# Achsenbeschriftungen
labs(
x = "Jahr",
y = "Stickoxidkonzentration (NO + NO2) [µg/m³]",
fill = "Standort"
) +
# Zeitachse formatieren - nur Jahreszahlen
scale_x_date(
date_breaks = "1 year",        # Breaks für jedes Jahr
date_labels = "%Y",            # Nur Jahreszahl anzeigen
expand = expansion(mult = 0.02)
) +
# Facetten für jeden Standort untereinander
facet_wrap(~standort, ncol = 1) +
# Minimalistisches Theme
theme_minimal() +
theme(
legend.position = "bottom",
legend.box = "horizontal",
legend.margin = margin(t = 10),
axis.text.x = element_text(angle = 0, hjust = 0.5)  # Jahreszahlen horizontal
)
data_long %>%
mutate(
datum = as.Date(datum),
standort = str_to_title(standort)
) %>%
filter(datum >= as.Date("2014-01-01") & datum <= as.Date("2020-12-31")) %>%
ggplot(aes(x = datum, y = nox, fill = standort)) +
# Boxplots für jeden Monat und Standort
geom_boxplot(
aes(group = format(datum, "%Y-%m")),
outlier.size = 0.5,
alpha = 0.7
) +
# Achsenbeschriftungen
labs(
x = "Jahr",
y = "Stickoxidkonzentration (NO + NO2) [µg/m³] (log-Skala)",  # Hinweis auf log-Skala
fill = "Standort"
) +
# Zeitachse formatieren - nur Jahreszahlen
scale_x_date(
date_breaks = "1 year",
date_labels = "%Y",
expand = expansion(mult = 0.02)
) +
# Logarithmische y-Achse
scale_y_log10() +
# Facetten für jeden Standort untereinander
facet_wrap(~standort, ncol = 1) +
# Minimalistisches Theme
theme_minimal() +
theme(
legend.position = "bottom",
legend.box = "horizontal",
legend.margin = margin(t = 10),
axis.text.x = element_text(angle = 0, hjust = 0.5)
)
data_long %>%
mutate(
datum = as.Date(datum),
standort = str_to_title(standort)
) %>%
filter(datum >= as.Date("2014-01-01") & datum <= as.Date("2020-12-31")) %>%
ggplot(aes(x = datum, y = nox)) +  # fill = standort aus aes entfernt
# Boxplots für jeden Monat und Standort
geom_boxplot(
aes(group = format(datum, "%Y-%m")),
outlier.size = 0.5,
alpha = 0.7,
fill = "lightblue"  # direkte Farbzuweisung statt über aes
) +
# Achsenbeschriftungen
labs(
x = "Jahr",
y = "Stickoxidkonzentration (NO + NO2) [µg/m³] (log-Skala)"
) +
# Zeitachse formatieren - nur Jahreszahlen
scale_x_date(
date_breaks = "1 year",
date_labels = "%Y",
expand = expansion(mult = 0.02)
) +
# Logarithmische y-Achse
scale_y_log10() +
# Facetten für jeden Standort untereinander
facet_wrap(~standort, ncol = 1) +
# Minimalistisches Theme
theme_minimal() +
theme(
legend.position = "none",  # Legende entfernt
axis.text.x = element_text(angle = 0, hjust = 0.5)
)
data_long %>%
mutate(
datum = as.Date(datum),
standort = str_to_title(standort)
) %>%
filter(datum >= as.Date("2014-01-01") & datum <= as.Date("2020-12-31")) %>%
ggplot(aes(x = datum, y = nox, fill = standort)) +
# Boxplots für jeden Monat und Standort
geom_boxplot(
aes(group = format(datum, "%Y-%m")),
outlier.size = 0.5,
alpha = 0.7
) +
# Achsenbeschriftungen
labs(
x = "Jahr",
y = "Stickoxidkonzentration (NO + NO2) [µg/m³] (log-Skala)",  # Hinweis auf log-Skala
fill = "Standort"
) +
# Zeitachse formatieren - nur Jahreszahlen
scale_x_date(
date_breaks = "1 year",
date_labels = "%Y",
expand = expansion(mult = 0.02)
) +
# Logarithmische y-Achse
scale_y_log10() +
# Facetten für jeden Standort untereinander
facet_wrap(~standort, ncol = 1) +
# Minimalistisches Theme
theme_minimal() +
theme(
legend.position = "bottom",
legend.box = "horizontal",
legend.margin = margin(t = 10),
axis.text.x = element_text(angle = 0, hjust = 0.5)
)
data_long %>%
mutate(
datum = as.Date(datum),
standort = str_to_title(standort)
) %>%
filter(datum >= as.Date("2014-01-01") & datum <= as.Date("2020-12-31")) %>%
ggplot(aes(x = datum, y = nox, fill = standort)) +  # fill = standort wieder hinzugefügt
# Boxplots für jeden Monat und Standort
geom_boxplot(
aes(group = format(datum, "%Y-%m")),
outlier.size = 0.5,
alpha = 0.7
) +
# Achsenbeschriftungen
labs(
x = "Jahr",
y = "Stickoxidkonzentration (NO + NO2) [µg/m³] (log-Skala)"
) +
# Zeitachse formatieren - nur Jahreszahlen
scale_x_date(
date_breaks = "1 year",
date_labels = "%Y",
expand = expansion(mult = 0.02)
) +
# Logarithmische y-Achse
scale_y_log10() +
# Facetten für jeden Standort untereinander
facet_wrap(~standort, ncol = 1) +
# Minimalistisches Theme
theme_minimal() +
theme(
legend.position = "none",  # Legende ausgeblendet
axis.text.x = element_text(angle = 0, hjust = 0.5)
)
data_long %>%
mutate(
datum = as.Date(datum),
standort = str_to_title(standort)
) %>%
filter(datum >= as.Date("2014-01-01") & datum <= as.Date("2020-12-31")) %>%
ggplot(aes(x = datum, y = nox, fill = standort)) +  # fill = standort wieder hinzugefügt
# Boxplots für jeden Monat und Standort
geom_boxplot(
aes(group = format(datum, "%Y-%m")),
outlier.size = 0.5,
alpha = 0.7
) +
# Achsenbeschriftungen
labs(
x = "Jahr",
y = "Stickoxidkonzentration (NO + NO2) [µg/m³] (log-Skala)"
) +
# Zeitachse formatieren - nur Jahreszahlen
scale_x_date(
date_breaks = "1 year",
date_labels = "%Y",
expand = expansion(mult = 0.02)
) +
# Logarithmische y-Achse
scale_y_log10() +
# Facetten für jeden Standort untereinander
facet_wrap(~standort, ncol = 1) +
# Minimalistisches Theme
theme_minimal() +
theme(
legend.position = "none",  # Legende ausgeblendet
axis.text.x = element_text(angle = 0, hjust = 0.5)
)
